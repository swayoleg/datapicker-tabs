<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Custom Date Picker Demo</title>
  <link rel="stylesheet" href="css/custom-datepicker.css">
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #f5f5f5;
      color: #333;
    }
    
    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    
    h1 {
      text-align: center;
      color: #2196f3;
      margin-bottom: 30px;
    }
    
    .demo-section {
      margin-bottom: 40px;
      padding: 20px;
      border: 1px solid #eaeaea;
      border-radius: 8px;
    }
    
    h2 {
      margin-top: 0;
      color: #444;
    }
    
    .demo-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    
    .demo-column {
      flex: 1;
      min-width: 300px;
      padding: 10px;
    }
    
    .demo-input {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 14px;
      cursor: pointer;
      background-color: #f9f9f9;
    }
    
    .options-panel {
      background-color: #f9f9f9;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
    }
    
    .option-row {
      margin-bottom: 10px;
    }
    
    label {
      display: inline-block;
      width: 140px;
      font-weight: 500;
    }
    
    .result-panel {
      background-color: #f2f7fd;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
      min-height: 100px;
    }
    
    .btn {
      padding: 8px 16px;
      background-color: #2196f3;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: 500;
      margin-right: 10px;
      transition: background-color 0.2s;
    }
    
    .btn:hover {
      background-color: #0d8aee;
    }
    
    .btn-secondary {
      background-color: #f3f4f6;
      color: #333;
    }
    
    .btn-secondary:hover {
      background-color: #e3e5e8;
    }
    
    pre {
      background-color: #f5f5f5;
      padding: 15px;
      border-radius: 4px;
      overflow: auto;
      font-size: 14px;
    }
    
    code {
      font-family: monospace;
    }
    
    /* Styling for documentation */
    .documentation {
      padding: 20px;
      background-color: #fff;
      border-radius: 8px;
      margin-top: 40px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    
    .documentation h2 {
      border-bottom: 1px solid #eaeaea;
      padding-bottom: 10px;
    }
    
    .documentation h3 {
      margin-top: 25px;
      margin-bottom: 10px;
      color: #2196f3;
    }
    
    .documentation ul {
      padding-left: 20px;
    }
    
    .documentation .method {
      margin-bottom: 25px;
      padding-bottom: 15px;
      border-bottom: 1px dashed #eaeaea;
    }
    
    .documentation .method:last-child {
      border-bottom: none;
    }
    
    .documentation .method-name {
      color: #333;
      font-weight: bold;
      font-family: monospace;
    }
    
    .documentation .method-description {
      margin: 10px 0;
    }
    
    .documentation .parameter {
      margin-left: 20px;
      font-style: italic;
    }
    
    .code-example {
      margin: 15px 0;
    }
    
    /* For the bottom demo that tests overlap handling */
    .bottom-demo {
      margin-top: 100vh;
      border-top: 1px solid #ccc;
      padding-top: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Custom Date Picker Demo</h1>
    
    <div class="demo-section">
      <h2>Basic Usage</h2>
      <p>This demo shows the basic functionality of the custom date picker with both day and month selection modes.</p>
      
      <div class="demo-row">
        <div class="demo-column">
          <h3>Date Picker</h3>
          <input type="text" id="date-input" class="demo-input" placeholder="Click to select a date">
          <div id="date-container"></div>
          
          <div class="result-panel">
            <h4>Selected Value:</h4>
            <div id="date-result"></div>
          </div>
        </div>
        
        <div class="demo-column">
          <h3>Options</h3>
          <div class="options-panel">
            <div class="option-row">
              <label for="mode-select">Mode:</label>
              <select id="mode-select">
                <option value="day">Day</option>
                <option value="month">Month</option>
              </select>
            </div>
            
            <div class="option-row">
              <label for="multiple-select">Multiple Selection:</label>
              <input type="checkbox" id="multiple-select">
            </div>
            
            <div class="option-row">
              <label for="saturdays-select">Future Saturdays Only:</label>
              <input type="checkbox" id="saturdays-select">
            </div>
            
            <div class="option-row">
              <label for="min-date">Min Date:</label>
              <input type="date" id="min-date">
            </div>
            
            <div class="option-row">
              <label for="date-format">Format:</label>
              <select id="date-format">
                <option value="DD MMM YYYY">DD MMM YYYY (01 Jan 2025)</option>
                <option value="DD/MM/YYYY">DD/MM/YYYY (01/01/2025)</option>
                <option value="MM/DD/YYYY">MM/DD/YYYY (01/01/2025)</option>
                <option value="YYYY-MM-DD">YYYY-MM-DD (2025-01-01)</option>
              </select>
            </div>
            
            <div class="option-row">
              <button id="apply-options" class="btn">Apply Options</button>
              <button id="reset-options" class="btn btn-secondary">Reset</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="demo-section">
      <h2>Month Selection Demo</h2>
      <p>This example demonstrates the month selection mode with multiple month selection enabled.</p>
      
      <div class="demo-row">
        <div class="demo-column">
          <h3>Month Picker</h3>
          <input type="text" id="month-input" class="demo-input" placeholder="Click to select month(s)">
          <div id="month-container"></div>
          
          <div class="result-panel">
            <h4>Selected Months:</h4>
            <div id="month-result"></div>
          </div>
        </div>
        
        <div class="demo-column">
          <h3>Code Example</h3>
          <pre><code>const monthPicker = new CustomDatePicker('#month-container', {
  inputElement: '#month-input',
  mode: 'month',
  multiple: true,
  monthFormat: 'MMM YYYY',
  onDateChange: function(dates) {
    // Update the result display
    console.log('Selected months:', dates);
  }
});</code></pre>
        </div>
      </div>
    </div>
    
    <!-- Test for bottom of page positioning -->
    <div class="bottom-demo">
      <h2>Bottom of Page Test</h2>
      <p>This tests that the date picker correctly positions itself when near the bottom of the viewport.</p>
      
      <div class="demo-row">
        <div class="demo-column">
          <input type="text" id="bottom-date-input" class="demo-input" placeholder="Click to select a date">
          <div id="bottom-date-container"></div>
        </div>
      </div>
    </div>
    
    <!-- Documentation Section -->
    <div class="documentation">
      <h2>Custom Date Picker Documentation</h2>
      <p>A versatile date picker with day and month selection modes, designed for use with form inputs.</p>
      
      <h3>Installation</h3>
      <p>Include the CSS and JavaScript files in your HTML:</p>
      <pre><code>&lt;link rel="stylesheet" href="css/custom-datepicker.css"&gt;
&lt;script src="js/custom-datepicker.js"&gt;&lt;/script&gt;</code></pre>
      
      <h3>Basic Usage</h3>
      <p>Create a container element and an input field, then initialize the date picker:</p>
      <pre><code>// HTML
&lt;input type="text" id="date-input" placeholder="Select a date"&gt;
&lt;div id="date-container"&gt;&lt;/div&gt;

// JavaScript
const datePicker = new CustomDatePicker('#date-container', {
  inputElement: '#date-input',
  dateFormat: 'DD/MM/YYYY',
  onDateChange: function(date) {
    console.log('Selected date:', date);
  }
});</code></pre>
      
      <h3>Options</h3>
      <ul>
        <li><code>mode</code>: 'day' or 'month' (default: 'day')</li>
        <li><code>multiple</code>: Allow multiple selection (default: false)</li>
        <li><code>startDate</code>: Initial selected date (default: today)</li>
        <li><code>minDate</code>: Minimum selectable date (default: null)</li>
        <li><code>maxDate</code>: Maximum selectable date (default: null)</li>
        <li><code>futureSaturdaysOnly</code>: Only enable future Saturdays (default: false)</li>
        <li><code>dateFormat</code>: Format for day mode (default: 'DD MMM YYYY')</li>
        <li><code>monthFormat</code>: Format for month mode (default: 'MMM YYYY')</li>
        <li><code>position</code>: Default position relative to input ('bottom' or 'top', default: 'bottom')</li>
        <li><code>onDateChange</code>: Callback function when date(s) are selected</li>
      </ul>
      
      <h3>Methods</h3>
      
      <div class="method">
        <div class="method-name">setDate(date)</div>
        <div class="method-description">Sets the selected date(s)</div>
        <div class="parameter">date: Date object, array of Date objects, or null</div>
        <div class="code-example">
          <pre><code>// Set a single date
datePicker.setDate(new Date());

// Set multiple dates
datePicker.setDate([new Date(2023, 0, 1), new Date(2023, 1, 1)]);

// Clear selection
datePicker.setDate(null);</code></pre>
        </div>
      </div>
      
      <div class="method">
        <div class="method-name">getDate()</div>
        <div class="method-description">Gets the currently selected date(s)</div>
        <div class="code-example">
          <pre><code>const selectedDate = datePicker.getDate();</code></pre>
        </div>
      </div>
      
      <div class="method">
        <div class="method-name">setMode(mode)</div>
        <div class="method-description">Sets the picker mode</div>
        <div class="parameter">mode: 'day' or 'month'</div>
        <div class="code-example">
          <pre><code>datePicker.setMode('month');</code></pre>
        </div>
      </div>
      
      <div class="method">
        <div class="method-name">setMultiple(enable)</div>
        <div class="method-description">Enables or disables multiple selection</div>
        <div class="parameter">enable: boolean</div>
        <div class="code-example">
          <pre><code>datePicker.setMultiple(true);</code></pre>
        </div>
      </div>
      
      <div class="method">
        <div class="method-name">setDateFormat(format)</div>
        <div class="method-description">Sets the date format for day mode</div>
        <div class="parameter">format: string (e.g., 'DD/MM/YYYY')</div>
        <div class="code-example">
          <pre><code>datePicker.setDateFormat('YYYY-MM-DD');</code></pre>
        </div>
      </div>
      
      <div class="method">
        <div class="method-name">setMonthFormat(format)</div>
        <div class="method-description">Sets the date format for month mode</div>
        <div class="parameter">format: string (e.g., 'MMM YYYY')</div>
        <div class="code-example">
          <pre><code>datePicker.setMonthFormat('MM/YYYY');</code></pre>
        </div>
      </div>
      
      <div class="method">
        <div class="method-name">show()</div>
        <div class="method-description">Shows the date picker</div>
        <div class="code-example">
          <pre><code>datePicker.show();</code></pre>
        </div>
      </div>
      
      <div class="method">
        <div class="method-name">hide()</div>
        <div class="method-description">Hides the date picker</div>
        <div class="code-example">
          <pre><code>datePicker.hide();</code></pre>
        </div>
      </div>
    </div>
  </div>
  
  <script src="js/custom-datepicker.js"></script>
  <script>
    // Day picker initialization
    const datePicker = new CustomDatePicker('#date-container', {
      inputElement: '#date-input',
      dateFormat: 'DD MMM YYYY',
      onDateChange: function(date) {
        const dateResult = document.getElementById('date-result');
        if (date) {
          if (Array.isArray(date)) {
            dateResult.textContent = date.map(d => d.toLocaleDateString()).join(', ');
          } else {
            dateResult.textContent = date.toLocaleDateString();
          }
        } else {
          dateResult.textContent = 'No date selected';
        }
      }
    });
    
    // Month picker initialization
    const monthPicker = new CustomDatePicker('#month-container', {
      inputElement: '#month-input',
      mode: 'month',
      multiple: true,
      monthFormat: 'MMM YYYY',
      onDateChange: function(dates) {
        const monthResult = document.getElementById('month-result');
        if (dates) {
          if (Array.isArray(dates)) {
            monthResult.textContent = dates.map(d => {
              const month = d.toLocaleString('default', { month: 'short' });
              const year = d.getFullYear();
              return `${month} ${year}`;
            }).join(', ');
          } else {
            const month = dates.toLocaleString('default', { month: 'short' });
            const year = dates.getFullYear();
            monthResult.textContent = `${month} ${year}`;
          }
        } else {
          monthResult.textContent = 'No months selected';
        }
      }
    });
    
    // Bottom picker for testing positioning
    const bottomPicker = new CustomDatePicker('#bottom-date-container', {
      inputElement: '#bottom-date-input',
      position: 'top'  // Force to open upward
    });
    
    // Options panel functionality
    const modeSelect = document.getElementById('mode-select');
    const multipleSelect = document.getElementById('multiple-select');
    const saturdaysSelect = document.getElementById('saturdays-select');
    const minDateInput = document.getElementById('min-date');
    const dateFormatSelect = document.getElementById('date-format');
    const applyOptionsBtn = document.getElementById('apply-options');
    const resetOptionsBtn = document.getElementById('reset-options');
    
    applyOptionsBtn.addEventListener('click', function() {
      const mode = modeSelect.value;
      const multiple = multipleSelect.checked;
      const futureSaturdaysOnly = saturdaysSelect.checked;
      const minDate = minDateInput.value ? new Date(minDateInput.value) : null;
      const dateFormat = dateFormatSelect.value;
      
      // Update datepicker options
      datePicker.setMode(mode);
      datePicker.setMultiple(multiple);
      datePicker.options.futureSaturdaysOnly = futureSaturdaysOnly;
      datePicker.options.minDate = minDate;
      datePicker.setDateFormat(dateFormat);
      
      // Reset selected dates
      datePicker.setDate(null);
      
      // Re-render datepicker
      datePicker.render();
      datePicker.attachEvents();
    });
    
    resetOptionsBtn.addEventListener('click', function() {
      modeSelect.value = 'day';
      multipleSelect.checked = false;
      saturdaysSelect.checked = false;
      minDateInput.value = '';
      dateFormatSelect.value = 'DD MMM YYYY';
      
      // Reset datepicker options
      datePicker.setMode('day');
      datePicker.setMultiple(false);
      datePicker.options.futureSaturdaysOnly = false;
      datePicker.options.minDate = null;
      datePicker.setDateFormat('DD MMM YYYY');
      
      // Reset selected dates
      datePicker.setDate(null);
      
      // Re-render datepicker
      datePicker.render();
      datePicker.attachEvents();
    });
  </script>
</body>
</html>